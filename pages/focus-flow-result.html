<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Focus Flow Result</title>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Courgette&family=Roboto&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />
    <link rel="stylesheet" href="../css/focus-flow-result.css" />
    <script type="module" src="../js/main.js" defer></script>
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="logo"><span class="focus">focus</span><span class="flow">flow</span></h1>
      </header>
      <div class="chart-container">
        <div class="chart-title">Your subject focus result:</div>
        <div class="chart" id="chart">
            <!-- Bars will be inserted here by JavaScript -->
        </div>
        <button class="exit-btn">Exit</button>
      </div>
    </div>

    <script>
        // Function to generate distinct colors
        function generateDistinctColors(count) {
            const colors = [];
            const hueStep = 360 / count;
            
            for (let i = 0; i < count; i++) {
                const hue = (i * hueStep) % 360;
                colors.push(`hsl(${hue}, 85%, 45%)`);
            }
            
            return colors;
        }

        // Subjects with 8 items and dynamic colors
        const subjects = [
            { name: "Mathematics", priority: 1 },
            { name: "Physics", priority: 2 },
            { name: "Chemistry", priority: 3 },
            { name: "Biology", priority: 4 },
            { name: "English", priority: 5 },
            { name: "History", priority: 6 }
        ];

        // Assign distinct colors
        const colors = generateDistinctColors(subjects.length);
        subjects.forEach((subject, index) => {
            subject.color = colors[index];
        });


        const chart = document.getElementById('chart');
        const maxPriority = subjects.length;
        const barWidthUnit = 100; // pixels per priority level

        // Create bars
        subjects.forEach(subject => {
            const barContainer = document.createElement('div');
            barContainer.className = 'bar-container';
            
            const bar = document.createElement('div');
            bar.className = 'bar';
            // Width is based on priority (1 is widest, 6 is narrowest)
            bar.style.width = `${(maxPriority - subject.priority + 1) * barWidthUnit}px`;
            bar.style.backgroundColor = subject.color;
            bar.textContent = subject.name;
            
            const priorityLabel = document.createElement('div');
            priorityLabel.className = 'priority-label';
            priorityLabel.textContent = `Priority ${subject.priority}`;
            
            barContainer.appendChild(bar);
            barContainer.appendChild(priorityLabel);
            chart.appendChild(barContainer);
        });
    </script>
  </body>
</html>